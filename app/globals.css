@tailwind base;
@tailwind components;
@tailwind utilities;

/* Inline former base.css rules */
@layer base {
  html {
    @apply text-[16px] sm:text-[17px];
  }

  body {
    @apply bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300 ease-out;
  }

  /* Card backgrounds and transitions */
  .bg-white {
    @apply dark:bg-gray-800 transition-all duration-300 ease-in-out;
  }
  .bg-gray-50 {
    @apply dark:bg-gray-700 transition-colors duration-300 ease-in-out;
  }
  .bg-gray-200 {
    @apply dark:bg-gray-600;
  }

  /* Improved text contrast */
  .text-gray-600 {
    @apply text-gray-700 dark:text-gray-300;
  }

  /* Smooth shadow transitions for expanding cards */
  .shadow-sm,
  .shadow,
  .shadow-md,
  .shadow-lg {
    @apply transition-shadow duration-300 ease-in-out;
  }

  /* Consistent card spacing and shadows */
  .card {
    @apply rounded-xl p-4 sm:p-6 bg-white dark:bg-gray-800 shadow-md hover:shadow-lg;
  }

  /* Reduce animations when low-impact mode is enabled */
  .low-impact *,
  .low-impact *::before,
  .low-impact *::after {
    animation: none !important;
    transition: none !important;
  }
}

/* Inline former typography.css rules */
:root {
  color-scheme: dark;
  --type-base: 1rem;
  --type-scale: 1.25;
  --baseline: 0.25rem;
}

@layer components {
  .confidenceText {
    @apply font-semibold;
  }

  /* Beta typographic scale */
  .beta-h1 {
    @apply text-2xl sm:text-3xl font-bold;
  }
  .beta-h2 {
    @apply text-xl sm:text-2xl font-semibold;
  }

  /* Typographic scale */
  .type-h1 {
    font-size: calc(var(--type-base) * var(--type-scale) * var(--type-scale));
    line-height: calc(var(--baseline) * 12);
  }

  .type-h2 {
    font-size: calc(var(--type-base) * var(--type-scale));
    line-height: calc(var(--baseline) * 8);
  }

  .type-body {
    font-size: var(--type-base);
    line-height: calc(var(--baseline) * 6);
  }
}

@layer utilities {
  .baseline-grid {
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0.1) 1px,
      transparent 1px
    );
    background-size: 100% calc(var(--baseline));
  }

  .baseline-1 {
    margin-bottom: calc(var(--baseline) * 1);
  }
  .baseline-2 {
    margin-bottom: calc(var(--baseline) * 2);
  }
  .baseline-3 {
    margin-bottom: calc(var(--baseline) * 3);
  }
  .baseline-4 {
    margin-bottom: calc(var(--baseline) * 4);
  }
  .baseline-6 {
    margin-bottom: calc(var(--baseline) * 6);
  }

  .grid-bg {
    position: relative;
    isolation: isolate;
  }

  .grid-bg::before {
    content: "";
    position: absolute;
    inset: 0;
    background:
      linear-gradient(to right, rgba(255,255,255,0.04) 1px, transparent 1px) 0 0/24px 24px,
      linear-gradient(to bottom, rgba(255,255,255,0.04) 1px, transparent 1px) 0 0/24px 24px;
    mask-image: radial-gradient(60% 60% at 50% 30%, #000 60%, transparent 100%);
    animation: grid-move 20s linear infinite;
    pointer-events: none;
  }
}

@keyframes grid-move {
  from {
    background-position: 0 0;
  }
  to {
    background-position: 24px 24px;
  }
}

/* Leaflet */
@import "leaflet/dist/leaflet.css";
